(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a814af34"],{2237:function(e,t,n){"use strict";var r=n("46a7"),i=n("4162"),a=n("d2cf"),o=n("4488"),c=n("7f99"),s=n("d2b9"),u=RangeError,l=String,f=Math.floor,d=i(c),p=i("".slice),v=i(1..toFixed),h=function(e,t,n){return 0===t?n:t%2===1?h(e,t-1,n*e):h(e*e,t/2,n)},m=function(e){var t=0,n=e;while(n>=4096)t+=12,n/=4096;while(n>=2)t+=1,n/=2;return t},g=function(e,t,n){var r=-1,i=n;while(++r<6)i+=t*e[r],e[r]=i%1e7,i=f(i/1e7)},C=function(e,t){var n=6,r=0;while(--n>=0)r+=e[n],e[n]=f(r/t),r=r%t*1e7},w=function(e){var t=6,n="";while(--t>=0)if(""!==n||0===t||0!==e[t]){var r=l(e[t]);n=""===n?r:n+d("0",7-r.length)+r}return n},_=s((function(){return"0.000"!==v(8e-5,3)||"1"!==v(.9,0)||"1.25"!==v(1.255,2)||"1000000000000000128"!==v(0xde0b6b3a7640080,0)}))||!s((function(){v({})}));r({target:"Number",proto:!0,forced:_},{toFixed:function(e){var t,n,r,i,c=o(this),s=a(e),f=[0,0,0,0,0,0],v="",_="0";if(s<0||s>20)throw u("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return l(c);if(c<0&&(v="-",c=-c),c>1e-21)if(t=m(c*h(2,69,1))-69,n=t<0?c*h(2,-t,1):c/h(2,t,1),n*=4503599627370496,t=52-t,t>0){g(f,0,n),r=s;while(r>=7)g(f,1e7,0),r-=7;g(f,h(10,r,1),0),r=t-1;while(r>=23)C(f,1<<23),r-=23;C(f,1<<r),g(f,1,1),C(f,2),_=w(f)}else g(f,0,n),g(f,1<<-t,0),_=w(f)+d("0",s);return s>0?(i=_.length,_=v+(i<=s?"0."+d("0",s-i)+_:p(_,0,i-s)+"."+p(_,i-s))):_=v+_,_}})},"3e9f":function(e,t,n){"use strict";var r=n("4bb1"),i=n("e143"),a=(n("eb3b"),n("b1f6"),function(){function e(t,n){Object(r["a"])(this,e),this.Cesium=t,this.viewer=n,this.lastStageList=[]}return Object(i["a"])(e,[{key:"add",value:function(e,t,n,r){this.lastStageList.push(this.showRadarScan(e,t,n,r))}},{key:"clear",value:function(){var e=this;this.lastStageList.forEach((function(t){e.clearScanEffects(t)})),this.lastStageList=[]}},{key:"showRadarScan",value:function(e,t,n,r){var i=this.Cesium,a=new i.Cartographic(i.Math.toRadians(e[0]),i.Math.toRadians(e[1]),e[2]);t=new i.Color.fromCssColorString(t);var o=this._addRadarScanPostStage(a,n,t,r);return o}},{key:"_addRadarScanPostStage",value:function(e,t,n,r){var i=this.Cesium,a=i.Cartographic.toCartesian(e),o=new i.Cartesian4(a.x,a.y,a.z,1),c=new i.Cartographic(e.longitude,e.latitude,e.height+500),s=i.Cartographic.toCartesian(c),u=new i.Cartesian4(s.x,s.y,s.z,1),l=new i.Cartographic(e.longitude+i.Math.toRadians(.001),e.latitude,e.height),f=i.Cartographic.toCartesian(l),d=new i.Cartesian4(f.x,f.y,f.z,1),p=new i.Quaternion,v=new i.Matrix3,h=(new Date).getTime(),m=new i.Cartesian4,g=new i.Cartesian4,C=new i.Cartesian4,w=new i.Cartesian3,_=new i.Cartesian3,y=this,b=new i.PostProcessStage({fragmentShader:this._getRadarScanShader(),uniforms:{u_scanCenterEC:function(){return i.Matrix4.multiplyByVector(y.viewer.camera._viewMatrix,o,m)},u_scanPlaneNormalEC:function(){var e=i.Matrix4.multiplyByVector(y.viewer.camera._viewMatrix,o,m),t=i.Matrix4.multiplyByVector(y.viewer.camera._viewMatrix,u,g);return w.x=t.x-e.x,w.y=t.y-e.y,w.z=t.z-e.z,i.Cartesian3.normalize(w,w),w},u_radius:t,u_scanLineNormalEC:function(){var e=i.Matrix4.multiplyByVector(y.viewer.camera._viewMatrix,o,m),t=i.Matrix4.multiplyByVector(y.viewer.camera._viewMatrix,u,g),n=i.Matrix4.multiplyByVector(y.viewer.camera._viewMatrix,d,C);w.x=t.x-e.x,w.y=t.y-e.y,w.z=t.z-e.z,i.Cartesian3.normalize(w,w),_.x=n.x-e.x,_.y=n.y-e.y,_.z=n.z-e.z;var a=((new Date).getTime()-h)%r/r;return i.Quaternion.fromAxisAngle(w,a*i.Math.PI*2,p),i.Matrix3.fromQuaternion(p,v),i.Matrix3.multiplyByVector(v,_,_),i.Cartesian3.normalize(_,_),_},u_scanColor:n}});return this.viewer.scene.postProcessStages.add(b),b}},{key:"_getRadarScanShader",value:function(){var e="uniform sampler2D colorTexture;\nuniform sampler2D depthTexture;\nvarying vec2 v_textureCoordinates;\nuniform vec4 u_scanCenterEC;\nuniform vec3 u_scanPlaneNormalEC;\nuniform vec3 u_scanLineNormalEC;\nuniform float u_radius;\nuniform vec4 u_scanColor;\nvec4 toEye(in vec2 uv, in float depth)\n {\n vec2 xy = vec2((uv.x * 2.0 - 1.0),(uv.y * 2.0 - 1.0));\n vec4 posInCamera =czm_inverseProjection * vec4(xy, depth, 1.0);\n posInCamera =posInCamera / posInCamera.w;\n return posInCamera;\n }\nbool isPointOnLineRight(in vec3 ptOnLine, in vec3 lineNormal, in vec3 testPt)\n{\nvec3 v01 = testPt - ptOnLine;\nnormalize(v01);\nvec3 temp = cross(v01, lineNormal);\nfloat d = dot(temp, u_scanPlaneNormalEC);\nreturn d > 0.5;\n}\nvec3 pointProjectOnPlane(in vec3 planeNormal, in vec3 planeOrigin, in vec3 point)\n{\nvec3 v01 = point -planeOrigin;\nfloat d = dot(planeNormal, v01) ;\nreturn (point - planeNormal * d);\n}\nfloat distancePointToLine(in vec3 ptOnLine, in vec3 lineNormal, in vec3 testPt)\n{\nvec3 tempPt = pointProjectOnPlane(lineNormal, ptOnLine, testPt);\nreturn length(tempPt - ptOnLine);\n}\nfloat getDepth(in vec4 depth)\n{\nfloat z_window = czm_unpackDepth(depth);\nz_window = czm_reverseLogDepth(z_window);\nfloat n_range = czm_depthRange.near;\nfloat f_range = czm_depthRange.far;\nreturn (2.0 * z_window - n_range - f_range) / (f_range - n_range);\n}\nvoid main()\n{\ngl_FragColor = texture2D(colorTexture, v_textureCoordinates);\nfloat depth = getDepth( texture2D(depthTexture, v_textureCoordinates));\nvec4 viewPos = toEye(v_textureCoordinates, depth);\nvec3 prjOnPlane = pointProjectOnPlane(u_scanPlaneNormalEC.xyz, u_scanCenterEC.xyz, viewPos.xyz);\nfloat dis = length(prjOnPlane.xyz - u_scanCenterEC.xyz);\nfloat twou_radius = u_radius * 2.0;\nif(dis < u_radius)\n{\nfloat f0 = 1.0 -abs(u_radius - dis) / u_radius;\nf0 = pow(f0, 64.0);\nvec3 lineEndPt = vec3(u_scanCenterEC.xyz) + u_scanLineNormalEC * u_radius;\nfloat f = 0.0;\nif(isPointOnLineRight(u_scanCenterEC.xyz, u_scanLineNormalEC.xyz, prjOnPlane.xyz))\n{\nfloat dis1= length(prjOnPlane.xyz - lineEndPt);\nf = abs(twou_radius -dis1) / twou_radius;\nf = pow(f, 3.0);\n}\ngl_FragColor = mix(gl_FragColor, u_scanColor, f + f0);\n}\n}\n";return e}},{key:"clearScanEffects",value:function(e){this.viewer.scene.postProcessStages.remove(e)}}]),e}());t["a"]=a},"3f15":function(e,t,n){"use strict";n("dceb")},4488:function(e,t,n){var r=n("4162");e.exports=r(1..valueOf)},"4bb1":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("a567");function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},"68eb":function(e,t,n){var r=n("46a7"),i=n("eaa4"),a=n("2a86");r({global:!0},{Reflect:{}}),a(i.Reflect,"Reflect",!0)},"721f":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));n("bfa4"),n("eb3b"),n("68eb");var r=n("b5db");function i(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}n("a567");var a=n("900a"),o=n("a035");function c(e,t){if(t&&("object"===Object(a["a"])(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Object(o["a"])(e)}function s(e){var t=i();return function(){var n,i=Object(r["a"])(e);if(t){var a=Object(r["a"])(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return c(this,n)}}},"870b":function(e,t,n){var r=n("46a7"),i=n("4cf9"),a=n("5621"),o=n("9923"),c=n("a731"),s=n("6311"),u=n("6b85");function l(e,t){var n,r,f=arguments.length<3?e:arguments[2];return o(e)===f?e[t]:(n=s.f(e,t),n?c(n)?n.value:void 0===n.get?void 0:i(n.get,f):a(r=u(e))?l(r,t,f):void 0)}r({target:"Reflect",stat:!0},{get:l})},"96ef":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container",attrs:{id:"echarts"}},[n("div",{attrs:{id:"cesiumContainer"}})])}],a=n("3e9f"),o=n("c78a"),c=n("4bb1"),s=n("e143"),u=n("a035"),l=(n("eb3b"),n("68eb"),n("870b"),n("8877"),n("b5db"));function f(e,t){while(!Object.prototype.hasOwnProperty.call(e,t))if(e=Object(l["a"])(e),null===e)break;return e}function d(){return d="undefined"!==typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=f(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},d.apply(this,arguments)}var p=n("e4ae"),v=n("721f"),h=n("4eba"),m=(n("2237"),function(){function e(t,n,r){Object(c["a"])(this,e),Object(h["a"])(this,"viewer",void 0),Object(h["a"])(this,"id",void 0),Object(h["a"])(this,"duration",void 0),Object(h["a"])(this,"maxRadius",void 0),Object(h["a"])(this,"pointDraged",void 0),Object(h["a"])(this,"leftDownFlag",void 0),Object(h["a"])(this,"update_position",void 0),this.Cesium=t,this.viewer=n,this.id=r,this.duration=1e3,this.maxRadius=1e3,this.pointDraged=null,this.leftDownFlag=!1}return Object(s["a"])(e,[{key:"change_duration",value:function(e){this.duration=e}},{key:"change_color",value:function(e){var t=this.Cesium,n=this.viewer.entities.getById(this.id);n._ellipse._material.color=new t.Color.fromCssColorString(e)}},{key:"change_position",value:function(e){var t=this.Cesium,n=t.Cartesian3.fromDegrees(parseFloat(e[0]),parseFloat(e[1]),parseFloat(e[2])),r=this.viewer.entities.getById(this.id);r.position=n}},{key:"del",value:function(){this.viewer.entities.removeById(this.id)}},{key:"add",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=this.Cesium,o=this;function c(e){o.pointDraged=o.viewer.scene.pick(e.position),o.pointDraged&&o.pointDraged.id&&o.pointDraged.id.id===o.id&&(o.leftDownFlag=!0,o.viewer.scene.screenSpaceCameraController.enableRotate=!1)}function s(e){o.leftDownFlag=!1,o.pointDraged=null,o.viewer.scene.screenSpaceCameraController.enableRotate=!0}function u(e){if(!0===o.leftDownFlag&&null!==o.pointDraged&&void 0!==o.pointDraged){var t=o.viewer.camera.getPickRay(e.endPosition),n=o.viewer.scene.globe.pick(t,o.viewer.scene);o.pointDraged.id.position=n;var r=o.viewer.scene.globe.ellipsoid,i=r.cartesianToCartographic(n),c=a.Math.toDegrees(i.latitude),s=a.Math.toDegrees(i.longitude),u=i.height;u=u<0?0:u,o.update_position&&o.update_position([s.toFixed(8),c.toFixed(8),u])}}this.duration=r,this.maxRadius=n,i&&(this.viewer.screenSpaceEventHandler.setInputAction(c,a.ScreenSpaceEventType.LEFT_DOWN),this.viewer.screenSpaceEventHandler.setInputAction(s,a.ScreenSpaceEventType.LEFT_UP),this.viewer.screenSpaceEventHandler.setInputAction(u,a.ScreenSpaceEventType.MOUSE_MOVE))}}]),e}()),g=m,C=function(){function e(t,n){Object(c["a"])(this,e),this.Cesium=t,this.viewer=n}return Object(s["a"])(e,[{key:"create",value:function(e){var t=this.Cesium,n=(this.viewer,null!==e&&void 0!==e&&e.cesiumName?e.cesiumName:"");function r(){this._definitionChanged=new t.Event,this._color=void 0,this._colorSubscription=void 0,this.color=e.color,this.duration=t.defaultValue(e.duration,1e3),this.count=t.defaultValue(e.count,2),this.count<=0&&(this.count=1),this.gradient=t.defaultValue(e.gradient,.1),0===this.gradient&&(this.gradient=0),this.gradient>1&&(this.gradient=1),this._time=(new Date).getTime()}Object.defineProperties(r.prototype,{isConstant:{get:function(){return!1}},definitionChanged:{get:function(){return this._definitionChanged}},color:t.createPropertyDescriptor("color"),duration:t.createPropertyDescriptor("duration"),count:t.createPropertyDescriptor("count")});var i="CircleWaveMaterial".concat(parseInt(1e3*Math.random()));return r.prototype.getType=function(e){return i},r.prototype.getValue=function(e,n){return t.defined(n)||(n={}),n.color=t.Property.getValueOrClonedDefault(this._color,e,t.Color.WHITE,n.color),n.time=((new Date).getTime()-this._time)%this.duration/this.duration,n.count=this.count,n.gradient=1+10*(1-this.gradient),n},r.prototype.equals=function(e){return this===e||e instanceof r&&t.Property.equals(this._color,e._color)},t.Material.CircleWaveSource="\n                                  czm_material czm_getMaterial(czm_materialInput materialInput) {\n                                    czm_material material = czm_getDefaultMaterial(materialInput);\n                                    material.diffuse = 1.5 * color.rgb;\n                                    vec2 st = materialInput.st;\n                                    vec3 str = materialInput.str;\n                                    float dis = distance(st, vec2(0.5, 0.5));\n                                    float per = fract(time);\n                                    if (abs(str.z) > 0.001) {\n                                      discard;\n                                    }\n                                    if (dis > 0.5) {\n                                      discard;\n                                    } else {\n                                      float perDis = 0.5 / count;\n                                      float disNum;\n                                      float bl = .0;\n                                      for (int i = 0; i <= 9; i++) {\n                                        if (float(i) <= count) {\n                                          disNum = perDis *float(i) - dis + per / count;\n                                          if (disNum > 0.0) {\n                                            if (disNum < perDis) {\n                                              bl = 1.0 - disNum / perDis;\n                                            } else if(disNum - perDis < perDis) {\n                                              bl = 1.0 - abs(1.0 - disNum / perDis);\n                                            }\n                                            material.alpha = pow(bl, gradient);\n                                          }\n                                        }\n                                      }\n                                    }\n                                    return material;\n                                  }\n                                  ",t.Material._materialCache.addMaterial(i,{fabric:{type:i,uniforms:{color:new t.Color(1,0,0,1),time:1,count:1,gradient:.1},source:t.Material.CircleWaveSource},translucent:function(e){return!0}}),t[n]=r,r}}]),e}(),w=C,_=function(e){Object(p["a"])(n,e);var t=Object(v["a"])(n);function n(e,r,i){var a;return Object(c["a"])(this,n),a=t.call(this,e,r,i),Object(h["a"])(Object(u["a"])(a),"count",void 0),a._CircleWaveMaterialProperty=new w(e,r),a}return Object(s["a"])(n,[{key:"change_duration",value:function(e){d(Object(l["a"])(n.prototype),"change_duration",this).call(this,e);var t=this.viewer.entities.getById(this.id);t._ellipse._material.duration=e}},{key:"change_waveCount",value:function(e){var t=this.viewer.entities.getById(this.id);t._ellipse._material.count=e}},{key:"add",value:function(e,t,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:3,c=this.Cesium;d(Object(l["a"])(n.prototype),"add",this).call(this,e,t,r,i,a);var s=this;this.count=o,this._CircleWaveMaterialProperty.create({cesiumName:"CircleWaveMaterialProperty",duration:i,gradient:0,color:new c.Color.fromCssColorString(t),count:o}),this.viewer.entities.add({id:s.id,position:c.Cartesian3.fromDegrees(e[0],e[1],e[2]),ellipse:{semiMinorAxis:new c.CallbackProperty((function(e){return s.maxRadius}),!1),semiMajorAxis:new c.CallbackProperty((function(e){return s.maxRadius}),!1),material:new c.CircleWaveMaterialProperty}})}}]),n}(g),y=_,b=function(){function e(t,n){Object(c["a"])(this,e),this.Cesium=t,this.viewer=n}return Object(s["a"])(e,[{key:"create",value:function(e){var t=this.Cesium,n=(this.viewer,null!==e&&void 0!==e&&e.cesiumName?e.cesiumName:"");function r(){this._definitionChanged=new t.Event,this._color=void 0,this._colorSubscription=void 0,this.color=e.color,this._time=(new Date).getTime()}Object.defineProperties(r.prototype,{isConstant:{get:function(){return!1}},definitionChanged:{get:function(){return this._definitionChanged}},color:t.createPropertyDescriptor("color")});var i="HexagonSpreadMaterial".concat(parseInt(1e3*Math.random()));return r.prototype.getType=function(e){return i},r.prototype.getValue=function(e,n){return t.defined(n)||(n={}),n.color=t.Property.getValueOrClonedDefault(this._color,e,t.Color.WHITE,n.color),n.image=t.Material.HexagonSpreadMaterialImage,n},r.prototype.equals=function(e){return this===e||e instanceof r&&t.Property.equals(this._color,e._color)},t.Material.HexagonSpreadMaterialImage="/cesium/effects/Materials/hexagon.png",t.Material.HexagonSpreadSource="\n        czm_material czm_getMaterial(czm_materialInput materialInput)\n        {\n             czm_material material = czm_getDefaultMaterial(materialInput);\n             vec2 st = materialInput.st;\n             vec4 colorImage = texture2D(image,  vec2(st));\n             material.alpha = colorImage.a * color.a * 0.5;\n             material.diffuse =  1.8 * color.rgb  ;\n             return material;\n         }\n         ",t.Material._materialCache.addMaterial(i,{fabric:{type:t.Material.HexagonSpreadMaterialType,uniforms:{color:new t.Color(1,0,0,.5),image:t.Material.HexagonSpreadMaterialImage},source:t.Material.HexagonSpreadSource},translucent:function(e){return!0}}),t[n]=r,r}}]),e}(),x=b,P=function(e){Object(p["a"])(n,e);var t=Object(v["a"])(n);function n(e,r,i){var a;return Object(c["a"])(this,n),a=t.call(this,e,r,i),a._HexagonSpreadMaterialProperty=new x(e,r),a}return Object(s["a"])(n,[{key:"add",value:function(e,t,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o=this.Cesium;d(Object(l["a"])(n.prototype),"add",this).call(this,e,t,r,i,a);var c=this,s=1;this._HexagonSpreadMaterialProperty.create({cesiumName:"HexagonSpreadMaterialProperty",color:new o.Color.fromCssColorString(t)}),this.viewer.entities.add({id:c.id,position:o.Cartesian3.fromDegrees(e[0],e[1],e[2]),ellipse:{semiMajorAxis:new o.CallbackProperty((function(e){return s+=1e3/c.duration*50,s>c.maxRadius&&(s=1),s}),!1),semiMinorAxis:new o.CallbackProperty((function(e){return s}),!1),material:new o.HexagonSpreadMaterialProperty}})}}]),n}(g),O=P,S={data:function(){return{viewer:null,_CircleScan:null,_CircleDiffusion:null,_CircleWave:null,_HexagonSpread:null}},mounted:function(){this.init()},methods:{init:function(){var e=this.cesium;e.Ion.defaultAccessToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJqdGkiOiJlNTIzZTZiYi05OWQxLTQ0OTUtYTUzNC1mYjYxNWI4OTZiZTYiLCJpZCI6OTA3MDUsImlhdCI6MTY1MDUzNDAzMn0.0f1DG8NlExZnbrueMn_AgO6GX_g_RASavpxAWcVymPs",this.viewer=new e.Viewer("cesiumContainer",{imageryProvider:new e.ArcGisMapServerImageryProvider({url:"https://services.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer"}),infoBox:!1,shouldAnimate:!0,vrButton:!0,geocoder:!1,homeButton:!1,sceneModePicker:!1,baseLayerPicker:!0,navigationHelpButton:!1,animation:!1,timeline:!1,fullscreenButton:!1}),this._CircleScan=new a["a"](e,this.viewer),this._CircleDiffusion=new o["a"](e,this.viewer),this._CircleWave=new y(e,this.viewer),this._HexagonSpread=new O(e,this.viewer),this.viewer.scene.globe.depthTestAgainstTerrain=!0,this.start()},start:function(){var e=this.cesium;this._CircleScan.add([123.46787863792646,41.83241486807863,0],"#f5222d",500,3e3),this._CircleDiffusion.add([123.45362700404472,41.81860631952072,0],"#1890ff",500,3e3),this._CircleWave.add([123.4227202687658,41.817036701780346,0],"rgba(0, 255, 0, 1)",500,3e3),this._HexagonSpread.add([123.41743639592823,41.83039278462179,0],"#722ed1",500,3e3),this.viewer.camera.flyTo({destination:e.Cartesian3.fromDegrees(123.46787863792646,41.83241486807863,1e4),orientation:{heading:e.Math.toRadians(0),pitch:e.Math.toRadians(-90),roll:0},duration:3})}}},M=S,z=(n("3f15"),n("cba8")),D=Object(z["a"])(M,r,i,!1,null,"007c49ee",null);t["default"]=D.exports},a035:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("a567");function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}},a731:function(e,t,n){var r=n("a220");e.exports=function(e){return void 0!==e&&(r(e,"value")||r(e,"writable"))}},b5db:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n("dba9"),n("db8c");function r(e){return r=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}},bfa4:function(e,t,n){var r=n("46a7"),i=n("76bf"),a=n("06a7"),o=n("e727"),c=n("a644"),s=n("9923"),u=n("5621"),l=n("8b38"),f=n("d2b9"),d=i("Reflect","construct"),p=Object.prototype,v=[].push,h=f((function(){function e(){}return!(d((function(){}),[],e)instanceof e)})),m=!f((function(){d((function(){}))})),g=h||m;r({target:"Reflect",stat:!0,forced:g,sham:g},{construct:function(e,t){c(e),s(t);var n=arguments.length<3?e:c(arguments[2]);if(m&&!h)return d(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var r=[null];return a(v,r,t),new(a(o,e,r))}var i=n.prototype,f=l(u(i)?i:p),g=a(e,f,t);return u(g)?g:f}})},c78a:function(e,t,n){"use strict";var r=n("4bb1"),i=n("e143"),a=(n("eb3b"),n("b1f6"),function(){function e(t,n){Object(r["a"])(this,e),this.Cesium=t,this.viewer=n,this.lastStageList=[]}return Object(i["a"])(e,[{key:"add",value:function(e,t,n,r){this.lastStageList.push(this.showCircleScan(e,t,n,r))}},{key:"clear",value:function(){var e=this;this.lastStageList.forEach((function(t){e.clearScanEffects(t)})),this.lastStageList=[]}},{key:"showCircleScan",value:function(e,t,n,r){var i=this.Cesium,a=new i.Cartographic(i.Math.toRadians(e[0]),i.Math.toRadians(e[1]),e[2]);t=new i.Color.fromCssColorString(t);var o=this._addCircleScanPostStage(a,n,t,r);return o}},{key:"_addCircleScanPostStage",value:function(e,t,n,r){var i=this.Cesium,a=i.Cartographic.toCartesian(e),o=new i.Cartesian4(a.x,a.y,a.z,1),c=new i.Cartographic(e.longitude,e.latitude,e.height+500),s=i.Cartographic.toCartesian(c),u=new i.Cartesian4(s.x,s.y,s.z,1),l=(new Date).getTime(),f=new i.Cartesian4,d=new i.Cartesian4,p=new i.Cartesian3,v=this,h=new i.PostProcessStage({fragmentShader:v._getScanSegmentShader(),uniforms:{u_scanCenterEC:function(){var e=i.Matrix4.multiplyByVector(v.viewer.camera._viewMatrix,o,f);return e},u_scanPlaneNormalEC:function(){var e=i.Matrix4.multiplyByVector(v.viewer.camera._viewMatrix,o,f),t=i.Matrix4.multiplyByVector(v.viewer.camera._viewMatrix,u,d);return p.x=t.x-e.x,p.y=t.y-e.y,p.z=t.z-e.z,i.Cartesian3.normalize(p,p),p},u_radius:function(){return t*(((new Date).getTime()-l)%r)/r},u_scanColor:n}});return this.viewer.scene.postProcessStages.add(h),h}},{key:"_getScanSegmentShader",value:function(){var e=18,t=" uniform sampler2D colorTexture;\n        uniform sampler2D depthTexture;\n        varying vec2 v_textureCoordinates;\n        uniform vec4 u_scanCenterEC;\n        uniform vec3 u_scanPlaneNormalEC;\n        uniform float u_radius;\n        uniform vec4 u_scanColor;\n        vec4 toEye(in vec2 uv, in float depth){\n          vec2 xy = vec2((uv.x * 2.0 - 1.0),(uv.y * 2.0 - 1.0));\n          vec4 posInCamera = czm_inverseProjection * vec4(xy, depth, 1.0);\n          posInCamera =posInCamera / posInCamera.w;\n          return posInCamera;\n        }\n        vec3 pointProjectOnPlane(in vec3 planeNormal, in vec3 planeOrigin, in vec3 point){\n            vec3 v01 = point - planeOrigin;\n            float d = dot(planeNormal, v01) ;\n            return (point - planeNormal * d);\n        }\n        float getDepth(in vec4 depth){\n            float z_window = czm_unpackDepth(depth);\n            z_window = czm_reverseLogDepth(z_window);\n            float n_range = czm_depthRange.near;\n            float f_range = czm_depthRange.far;\n            return (2.0 * z_window - n_range - f_range) / (f_range - n_range);\n        }\n        void main(){\n            gl_FragColor = texture2D(colorTexture, v_textureCoordinates);\n            float depth = getDepth(texture2D(depthTexture, v_textureCoordinates));\n            vec4 viewPos = toEye(v_textureCoordinates, depth);\n            vec3 prjOnPlane = pointProjectOnPlane(u_scanPlaneNormalEC.xyz, u_scanCenterEC.xyz, viewPos.xyz);\n            float dis = length(prjOnPlane.xyz - u_scanCenterEC.xyz);\n            if(dis < u_radius){\n              float f = 1.0 - abs(u_radius - dis) / u_radius;\n              f = pow(f, float("+e+"));\n              gl_FragColor = mix(gl_FragColor,u_scanColor,f);\n            }\n            gl_FragColor.a = gl_FragColor.a / 2.0;\n        }\n      ";return t}},{key:"clearScanEffects",value:function(e){this.viewer.scene.postProcessStages.remove(e)}}]),e}());t["a"]=a},dceb:function(e,t,n){},e143:function(e,t,n){"use strict";function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n.d(t,"a",(function(){return i}))},e4ae:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n("a567"),n("dba9");function r(e,t){return r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},r(e,t)}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r(e,t)}},e727:function(e,t,n){"use strict";var r=n("4162"),i=n("bc26"),a=n("5621"),o=n("a220"),c=n("8cc0"),s=n("6ef5"),u=Function,l=r([].concat),f=r([].join),d={},p=function(e,t,n){if(!o(d,t)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";d[t]=u("C,a","return new C("+f(r,",")+")")}return d[t](e,n)};e.exports=s?u.bind:function(e){var t=i(this),n=t.prototype,r=c(arguments,1),o=function(){var n=l(r,c(arguments));return this instanceof o?p(t,n.length,n):t.apply(e,n)};return a(n)&&(o.prototype=n),o}}}]);